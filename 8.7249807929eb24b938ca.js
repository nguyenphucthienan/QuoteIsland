(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{em4C:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),o=function(){},a=e("pMnS"),u=e("kL22"),i=e("cyBs"),r=e("FzYP"),s=e("N07i"),c=e("Ip0R"),d=e("ZYCi"),p=e("4BPY"),g=e("jKJn"),m=e("7dP1"),f=e("xv8/"),h=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),v=function(){function n(n,l,e,t,o,a){this.sanitizer=n,this.moduleRef=l,this.modalService=e,this.authService=t,this.categoryService=o,this.alertService=a,this.infoModalTitle="Category Info",this.quotePluralMapping={"=0":"0 quote",other:"# quotes"},this.headerClasss="blue-gradient",this.photoHover=!1}return n.prototype.ngOnInit=function(){var n=this;this.tokenSubscription=this.authService.decodedToken$.subscribe(function(l){l&&(n.currentUserId=l.id)}),this.updateValues()},n.prototype.getSanitizedImageUrl=function(){return this.sanitizer.bypassSecurityTrustStyle(this.photoHover?"url("+this.category.photoUrl+")":"linear-gradient(rgba(0, 0, 0, 0.4),\n        rgba(0, 0, 0, 0.4)),\n        url("+this.category.photoUrl+")")},n.prototype.loveCategory=function(){var n=this;this.currentUserId?(this.isLoved?this.numOfLoves-=1:this.numOfLoves+=1,this.isLoved=!this.isLoved,this.categoryService.loveCategory(this.category._id).subscribe(function(l){n.category=l,n.updateValues()})):this.alertService.error("You need to login to love this category")},n.prototype.updateValues=function(){this.isLoved=this.currentUserId&&this.category.loves.includes(this.currentUserId),this.numOfLoves=this.category.loveCount},n.prototype.openInfoModal=function(){this.modalService.open(h,{inputs:{title:this.infoModalTitle,hasBottomClose:!0,closeOnBackdrop:!0},childComponent:{inputs:{category:this.category}}},this.moduleRef)},n.prototype.ngOnDestroy=function(){this.tokenSubscription.unsubscribe()},n}(),y=e("ZYjt"),C=t["\u0275crt"]({encapsulation:0,styles:[[".card-body[_ngcontent-%COMP%]{min-height:220px;background-position:center;background-repeat:no-repeat;background-size:cover;user-select:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none}.card-body[_ngcontent-%COMP%]:hover{cursor:pointer}.fa.fa-star[_ngcontent-%COMP%]:hover{cursor:default}.fa.fa-heart[_ngcontent-%COMP%], .fa.fa-info-circle[_ngcontent-%COMP%]{color:#9e9e9e}.pink-color[_ngcontent-%COMP%]{color:#ff4081!important}.category-name[_ngcontent-%COMP%]{font-size:30px;font-weight:lighter}"]],data:{}});function b(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","d-flex flex-column justify-content-center align-items-center white-text"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"p",[["class","category-name"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),(n()(),t["\u0275eld"](3,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""])),t["\u0275ppd"](5,2),t["\u0275ppd"](6,1)],null,function(n,l){var e=l.component;n(l,2,0,e.category.name),n(l,4,0,t["\u0275unv"](l,4,0,n(l,6,0,t["\u0275nov"](l.parent,0),t["\u0275unv"](l,4,0,n(l,5,0,t["\u0275nov"](l.parent,1),e.category.quoteCount,e.quotePluralMapping)))))})}function S(n){return t["\u0275vid"](0,[t["\u0275pid"](0,c.UpperCasePipe,[]),t["\u0275pid"](0,c.I18nPluralPipe,[c.NgLocalization]),(n()(),t["\u0275eld"](2,0,null,null,15,"div",[["class","card mt-3 mb-3"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,3,"div",[],null,null,null,null,null)),t["\u0275did"](4,278528,null,0,c.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(n()(),t["\u0275eld"](5,0,null,null,1,"a",[["class","btn-floating"],["type","button"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,0,"i",[["class","fa fa-lg fa-star"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,4,"div",[["class","card-body d-flex justify-content-center align-items-center"]],[[4,"background-image",null]],[[null,"mouseover"],[null,"mouseleave"],[null,"click"]],function(n,l,e){var o=!0,a=n.component;return"click"===l&&(o=!1!==t["\u0275nov"](n,8).onClick()&&o),"mouseover"===l&&(o=0!=(a.photoHover=!0)&&o),"mouseleave"===l&&(o=0!=(a.photoHover=!1)&&o),o},null,null)),t["\u0275did"](8,16384,null,0,d.l,[d.k,d.a,[8,null],t.Renderer2,t.ElementRef],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](9,2),(n()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](11,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](12,0,null,null,5,"div",[["class","card-footer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,2,"a",[["class","btn-floating"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.loveCategory()&&t),t},null,null)),(n()(),t["\u0275eld"](14,0,null,null,0,"i",[["class","fa fa-lg fa-heart"]],[[2,"pink-color",null]],null,null,null,null)),(n()(),t["\u0275ted"](15,null,[" "," "])),(n()(),t["\u0275eld"](16,0,null,null,1,"a",[["class","btn-floating float-right"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.openInfoModal()&&t),t},null,null)),(n()(),t["\u0275eld"](17,0,null,null,0,"i",[["class","fa fa-lg fa-info-circle"]],null,null,null,null,null))],function(n,l){var e=l.component;n(l,4,0,"card-header white-text "+e.headerClasss),n(l,8,0,n(l,9,0,"/categories",e.category._id)),n(l,11,0,!e.photoHover)},function(n,l){var e=l.component;n(l,7,0,e.getSanitizedImageUrl()),n(l,14,0,e.isLoved),n(l,15,0,e.numOfLoves>0?e.numOfLoves:null)})}var O=e("nSOF"),x=e("biqx"),M=e("Fv9x"),P=e("kH4O"),k=e("9zbn"),I=e("NhFE"),w=e("AytR"),R=e("L7aT"),L=function(){function n(n,l){this.route=n,this.categoryService=l,this.bannerImageUrl=w.a.bannerImageUrls.categoriesPage,this.modalTitle="Sort Categories",this.modalSortOptions=[{name:"Alphabetical",iconClassName:"fa fa-sort-alpha-asc",sortMode:{sortBy:"name",isSortAscending:!0}},{name:"Latest",iconClassName:"fa fa-clock-o",sortMode:{sortBy:"createdAt",isSortAscending:!1}},{name:"Most Love",iconClassName:"fa fa-heart",sortMode:{sortBy:"loveCount",isSortAscending:!1}}],this.categories=[],this.sortMode={sortBy:"createdAt",isSortAscending:!1}}return n.prototype.ngOnInit=function(){var n=this;this.route.data.subscribe(function(l){n.categories=l.categories.items,n.pagination=l.categories.pagination})},n.prototype.getAuthors=function(){var n=this;this.categoryService.getCategories(this.pagination,this.sortMode).subscribe(function(l){n.categories=l.items,n.pagination=l.pagination})},n.prototype.onPageChanged=function(n){this.pagination.pageNumber=n,this.getAuthors()},n.prototype.onSortChanged=function(n){this.sortMode=n,this.getAuthors()},n.prototype.getColorClass=function(n){return R.a.getColorClass(n)},n}(),N=t["\u0275crt"]({encapsulation:0,styles:[[".categories-container[_ngcontent-%COMP%]{padding:30px 30px 10px}.banner-text[_ngcontent-%COMP%]{font-size:50px}"]],data:{}});function q(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-xl-3 col-lg-4 col-md-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"app-category-card",[],null,null,null,S,C)),t["\u0275did"](2,245760,null,0,v,[y.c,t.NgModuleRef,p.a,m.a,f.a,g.a],{headerClasss:[0,"headerClasss"],category:[1,"category"]},null)],function(n,l){n(l,2,0,l.component.getColorClass(l.context.index),l.context.$implicit)},null)}function A(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"app-banner",[],null,null,null,O.b,O.a)),t["\u0275did"](1,114688,null,0,x.a,[y.c],{imageUrl:[0,"imageUrl"]},null),(n()(),t["\u0275eld"](2,0,null,0,2,"div",[["class","d-flex justify-content-center align-items-center"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,1,"h1",[["class","banner-text text-center"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Categories"])),(n()(),t["\u0275eld"](5,0,null,null,10,"div",[["class","categories-container container-fluid"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,1,"app-sort-bar",[],null,[[null,"sortChanged"]],function(n,l,e){var t=!0;return"sortChanged"===l&&(t=!1!==n.component.onSortChanged(e)&&t),t},M.b,M.a)),t["\u0275did"](7,114688,null,0,P.a,[p.a],{modalTitle:[0,"modalTitle"],modalSortOptions:[1,"modalSortOptions"]},{sortChanged:"sortChanged"}),(n()(),t["\u0275eld"](8,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,q)),t["\u0275did"](11,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](12,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,2,"div",[["class","d-flex flex-column justify-content-center align-items-center mt-4"]],null,null,null,null,null)),(n()(),t["\u0275eld"](14,0,null,null,1,"app-pagination",[],null,[[null,"pageChanged"]],function(n,l,e){var t=!0;return"pageChanged"===l&&(t=!1!==n.component.onPageChanged(e)&&t),t},k.b,k.a)),t["\u0275did"](15,638976,null,0,I.a,[],{totalItems:[0,"totalItems"],itemsPerPage:[1,"itemsPerPage"]},{pageChanged:"pageChanged"})],function(n,l){var e=l.component;n(l,1,0,e.bannerImageUrl),n(l,7,0,e.modalTitle,e.modalSortOptions),n(l,11,0,e.categories),n(l,15,0,e.pagination.totalItems,e.pagination.pageSize)},null)}var F=t["\u0275ccf"]("app-categories",L,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-categories",[],null,null,null,A,N)),t["\u0275did"](1,114688,null,0,L,[d.a,f.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),U=e("63mm"),_=e("HBl4"),z=e("CeUF"),T=function(){function n(n,l){this.route=n,this.quoteService=l,this.modalTitle="Sort Quotes",this.modalSortOptions=[{name:"Alphabetical",iconClassName:"fa fa-sort-alpha-asc",sortMode:{sortBy:"text",isSortAscending:!0}},{name:"Latest",iconClassName:"fa fa-clock-o",sortMode:{sortBy:"createdAt",isSortAscending:!1}},{name:"Most Love",iconClassName:"fa fa-heart",sortMode:{sortBy:"loveCount",isSortAscending:!1}}],this.quotes=[],this.sortMode={sortBy:"createdAt",isSortAscending:!1}}return n.prototype.ngOnInit=function(){var n=this;this.route.data.subscribe(function(l){n.category=l.category,n.quotes=l.quotes.items,n.pagination=l.quotes.pagination})},n.prototype.getQuotes=function(){var n=this;this.quoteService.getQuotes(this.pagination,this.sortMode,{category:this.category._id}).subscribe(function(l){n.quotes=l.items,n.pagination=l.pagination})},n.prototype.onPageChanged=function(n){this.pagination.pageNumber=n,this.getQuotes()},n.prototype.onSortChanged=function(n){this.sortMode=n,this.getQuotes()},n.prototype.getColorClass=function(n){return R.a.getColorClass(n)},n}(),j=t["\u0275crt"]({encapsulation:0,styles:[[".category-detail-container[_ngcontent-%COMP%]{padding:30px 30px 10px}.banner-text[_ngcontent-%COMP%]{font-size:50px}"]],data:{}});function B(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","col-xl-3 col-lg-4 col-md-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"app-quote-card",[],null,null,null,U.b,U.a)),t["\u0275did"](2,245760,null,0,_.a,[m.a,z.a,g.a],{headerClasss:[0,"headerClasss"],quote:[1,"quote"]},null)],function(n,l){n(l,2,0,l.component.getColorClass(l.context.index),l.context.$implicit)},null)}function V(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"app-banner",[],null,null,null,O.b,O.a)),t["\u0275did"](1,114688,null,0,x.a,[y.c],{imageUrl:[0,"imageUrl"]},null),(n()(),t["\u0275eld"](2,0,null,0,2,"div",[["class","d-flex justify-content-center align-items-center"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,1,"h1",[["class","banner-text text-center"]],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""])),(n()(),t["\u0275eld"](5,0,null,null,10,"div",[["class","category-detail-container container-fluid"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,1,"app-sort-bar",[],null,[[null,"sortChanged"]],function(n,l,e){var t=!0;return"sortChanged"===l&&(t=!1!==n.component.onSortChanged(e)&&t),t},M.b,M.a)),t["\u0275did"](7,114688,null,0,P.a,[p.a],{modalTitle:[0,"modalTitle"],modalSortOptions:[1,"modalSortOptions"]},{sortChanged:"sortChanged"}),(n()(),t["\u0275eld"](8,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,B)),t["\u0275did"](11,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](12,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,2,"div",[["class","d-flex flex-column justify-content-center align-items-center mt-4"]],null,null,null,null,null)),(n()(),t["\u0275eld"](14,0,null,null,1,"app-pagination",[],null,[[null,"pageChanged"]],function(n,l,e){var t=!0;return"pageChanged"===l&&(t=!1!==n.component.onPageChanged(e)&&t),t},k.b,k.a)),t["\u0275did"](15,638976,null,0,I.a,[],{totalItems:[0,"totalItems"],itemsPerPage:[1,"itemsPerPage"]},{pageChanged:"pageChanged"})],function(n,l){var e=l.component;n(l,1,0,e.category.photoUrl),n(l,7,0,e.modalTitle,e.modalSortOptions),n(l,11,0,e.quotes),n(l,15,0,e.pagination.totalItems,e.pagination.pageSize)},function(n,l){n(l,4,0,l.component.category.name)})}var Y=t["\u0275ccf"]("app-category-detail",T,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-category-detail",[],null,null,null,V,j)),t["\u0275did"](1,114688,null,0,T,[d.a,z.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),Q=t["\u0275crt"]({encapsulation:0,styles:[[".category-info-modal[_ngcontent-%COMP%]{width:70vw;max-width:500px;min-height:100px}"]],data:{}});function H(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","category-info-modal container"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ","\n"]))],null,function(n,l){n(l,1,0,l.component.category.description)})}var D=t["\u0275ccf"]("app-category-info-modal",h,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-category-info-modal",[],null,null,null,H,Q)),t["\u0275did"](1,114688,null,0,h,[],null,null)],function(n,l){n(l,1,0)},null)},{category:"category"},{},[]),E=e("gIcY"),J=e("3zx5"),Z=e("4obl"),X=e("F/XL"),$=e("9Z1F"),K=function(){function n(n,l){this.categoryService=n,this.alertService=l,this.defaultPagination={pageNumber:1,pageSize:8}}return n.prototype.resolve=function(n){var l=this;return this.categoryService.getCategories(this.defaultPagination).pipe(Object($.a)(function(n){return l.alertService.error("Problem retrieving data"),Object(X.a)(null)}))},n}(),G=function(){function n(n,l,e){this.router=n,this.categoryService=l,this.alertService=e}return n.prototype.resolve=function(n){var l=this,e=n.paramMap.get("id");return this.categoryService.getCategory(e).pipe(Object($.a)(function(n){return l.alertService.error("Problem retrieving data"),l.router.navigate(["/categories"]),Object(X.a)(null)}))},n}(),W=function(){function n(n,l){this.quoteService=n,this.alertService=l,this.defaultPagination={pageNumber:1,pageSize:8},this.defaultSortMode={sortBy:"createdAt",isSortAscending:!0}}return n.prototype.resolve=function(n){var l=this,e=n.paramMap.get("id");return this.quoteService.getQuotes(this.defaultPagination,this.defaultSortMode,{category:e}).pipe(Object($.a)(function(n){return l.alertService.error("Problem retrieving data"),Object(X.a)(null)}))},n}(),nn=e("QpxQ"),ln=e("S6T7"),en=e("6bkY"),tn=e("eF4m"),on=e("PCNd"),an=function(){};e.d(l,"CategoriesModuleNgFactory",function(){return un});var un=t["\u0275cmf"](o,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,u.a,i.a,i.c,i.d,i.n,i.e,i.b,r.a,s.a,F,Y,D]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,c.NgLocalization,c.NgLocaleLocalization,[t.LOCALE_ID,[2,c["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,E.r,E.r,[]),t["\u0275mpd"](4608,E.d,E.d,[]),t["\u0275mpd"](4608,J.bb,J.bb,[]),t["\u0275mpd"](4608,J.k,J.k,[]),t["\u0275mpd"](4608,J.J,J.J,[]),t["\u0275mpd"](4608,J.gb,J.gb,[]),t["\u0275mpd"](4608,J.fb,J.fb,[t.ComponentFactoryResolver,t.NgZone,t.Injector,J.gb,t.ApplicationRef]),t["\u0275mpd"](4608,J.f,J.f,[]),t["\u0275mpd"](4608,J.w,J.w,[J.fb,t.ElementRef,t.ViewContainerRef,t.Renderer2]),t["\u0275mpd"](4608,J.T,J.T,[]),t["\u0275mpd"](4608,J.P,J.P,[]),t["\u0275mpd"](4608,Z.a,Z.a,[]),t["\u0275mpd"](4608,K,K,[f.a,g.a]),t["\u0275mpd"](4608,G,G,[d.k,f.a,g.a]),t["\u0275mpd"](4608,W,W,[z.a,g.a]),t["\u0275mpd"](1073742336,c.CommonModule,c.CommonModule,[]),t["\u0275mpd"](1073742336,E.p,E.p,[]),t["\u0275mpd"](1073742336,E.g,E.g,[]),t["\u0275mpd"](1073742336,E.n,E.n,[]),t["\u0275mpd"](1073742336,d.o,d.o,[[2,d.u],[2,d.k]]),t["\u0275mpd"](1073742336,nn.c,nn.c,[]),t["\u0275mpd"](1073742336,ln.FileUploadModule,ln.FileUploadModule,[]),t["\u0275mpd"](1073742336,en.a,en.a,[]),t["\u0275mpd"](1073742336,J.h,J.h,[]),t["\u0275mpd"](1073742336,J.S,J.S,[]),t["\u0275mpd"](1073742336,J.X,J.X,[]),t["\u0275mpd"](1073742336,J.t,J.t,[]),t["\u0275mpd"](1073742336,J.O,J.O,[]),t["\u0275mpd"](1073742336,J.r,J.r,[]),t["\u0275mpd"](1073742336,J.l,J.l,[]),t["\u0275mpd"](1073742336,J.m,J.m,[]),t["\u0275mpd"](1073742336,J.q,J.q,[]),t["\u0275mpd"](1073742336,J.M,J.M,[]),t["\u0275mpd"](1073742336,J.V,J.V,[]),t["\u0275mpd"](1073742336,J.R,J.R,[]),t["\u0275mpd"](1073742336,J.s,J.s,[]),t["\u0275mpd"](1073742336,J.i,J.i,[]),t["\u0275mpd"](1073742336,J.o,J.o,[]),t["\u0275mpd"](1073742336,J.Y,J.Y,[]),t["\u0275mpd"](1073742336,J.a,J.a,[]),t["\u0275mpd"](1073742336,J.x,J.x,[]),t["\u0275mpd"](1073742336,tn.a,tn.a,[]),t["\u0275mpd"](1073742336,on.a,on.a,[]),t["\u0275mpd"](1073742336,an,an,[]),t["\u0275mpd"](1073742336,o,o,[]),t["\u0275mpd"](256,nn.d,nn.e,[]),t["\u0275mpd"](256,J.b,{autoClose:!0},[]),t["\u0275mpd"](1024,d.i,function(){return[[{path:"",component:L,resolve:{categories:K}},{path:":id",component:T,resolve:{category:G,quotes:W}}]]},[])])})}}]);