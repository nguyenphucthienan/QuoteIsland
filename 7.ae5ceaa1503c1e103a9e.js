(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{BVmJ:function(l,n,t){"use strict";t.r(n);var e=t("CcnG"),o=function(){},u=t("pMnS"),a=t("kL22"),i=t("cyBs"),r=t("FzYP"),s=t("N07i"),d=t("Ip0R"),c=t("ZYCi"),p=t("4BPY"),h=t("jKJn"),m=t("7dP1"),f=t("lRKv"),g=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),v=function(){function l(l,n,t,e,o,u){this.sanitizer=l,this.moduleRef=n,this.modalService=t,this.authService=e,this.authorService=o,this.alertService=u,this.infoModalTitle="Author Info",this.quotePluralMapping={"=0":"0 quote",other:"# quotes"},this.headerClasss="blue-gradient",this.photoHover=!1}return l.prototype.ngOnInit=function(){var l=this;this.tokenSubscription=this.authService.decodedToken$.subscribe(function(n){n&&(l.currentUserId=n.id)}),this.updateValues()},l.prototype.getSanitizedImageUrl=function(){return this.sanitizer.bypassSecurityTrustStyle(this.photoHover?"url("+this.author.photoUrl+")":"linear-gradient(rgba(0, 0, 0, 0.4),\n        rgba(0, 0, 0, 0.4)),\n        url("+this.author.photoUrl+")")},l.prototype.loveAuthor=function(){var l=this;this.currentUserId?(this.isLoved?this.numOfLoves-=1:this.numOfLoves+=1,this.isLoved=!this.isLoved,this.authorService.loveAuthor(this.author._id).subscribe(function(n){l.author=n,l.updateValues()})):this.alertService.error("You need to login to love this author")},l.prototype.updateValues=function(){this.isLoved=this.currentUserId&&this.author.loves.includes(this.currentUserId),this.numOfLoves=this.author.loveCount||this.author.loves.length},l.prototype.openInfoModal=function(){this.modalService.open(g,{inputs:{title:this.infoModalTitle,hasBottomClose:!0,closeOnBackdrop:!0},childComponent:{inputs:{author:this.author}}},this.moduleRef)},l.prototype.ngOnDestroy=function(){this.tokenSubscription.unsubscribe()},l}(),b=t("ZYjt"),C=e["\u0275crt"]({encapsulation:0,styles:[[".card-body[_ngcontent-%COMP%]{min-height:220px;background-position:center;background-repeat:no-repeat;background-size:cover;user-select:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none}.card-body[_ngcontent-%COMP%]:hover{cursor:pointer}.fa.fa-star[_ngcontent-%COMP%]:hover{cursor:default}.fa.fa-heart[_ngcontent-%COMP%], .fa.fa-info-circle[_ngcontent-%COMP%]{color:#9e9e9e}.pink-color[_ngcontent-%COMP%]{color:#ff4081!important}.author-name[_ngcontent-%COMP%]{font-size:30px;font-weight:lighter}"]],data:{}});function S(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,6,"div",[["class","d-flex flex-column justify-content-center align-items-center white-text"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"p",[["class","author-name"]],null,null,null,null,null)),(l()(),e["\u0275ted"](2,null,["",""])),(l()(),e["\u0275eld"](3,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),e["\u0275ted"](4,null,["",""])),e["\u0275ppd"](5,2),e["\u0275ppd"](6,1)],null,function(l,n){var t=n.component;l(n,2,0,t.author.fullName),l(n,4,0,e["\u0275unv"](n,4,0,l(n,6,0,e["\u0275nov"](n.parent,0),e["\u0275unv"](n,4,0,l(n,5,0,e["\u0275nov"](n.parent,1),t.author.quoteCount,t.quotePluralMapping)))))})}function y(l){return e["\u0275vid"](0,[e["\u0275pid"](0,d.UpperCasePipe,[]),e["\u0275pid"](0,d.I18nPluralPipe,[d.NgLocalization]),(l()(),e["\u0275eld"](2,0,null,null,15,"div",[["class","card mt-3 mb-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,3,"div",[],null,null,null,null,null)),e["\u0275did"](4,278528,null,0,d.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{ngClass:[0,"ngClass"]},null),(l()(),e["\u0275eld"](5,0,null,null,1,"a",[["class","btn-floating"],["type","button"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,0,"i",[["class","fa fa-lg fa-star"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,4,"div",[["class","card-body d-flex justify-content-center align-items-center"]],[[4,"background-image",null]],[[null,"mouseover"],[null,"mouseleave"],[null,"click"]],function(l,n,t){var o=!0,u=l.component;return"click"===n&&(o=!1!==e["\u0275nov"](l,8).onClick()&&o),"mouseover"===n&&(o=0!=(u.photoHover=!0)&&o),"mouseleave"===n&&(o=0!=(u.photoHover=!1)&&o),o},null,null)),e["\u0275did"](8,16384,null,0,c.l,[c.k,c.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](9,2),(l()(),e["\u0275and"](16777216,null,null,1,null,S)),e["\u0275did"](11,16384,null,0,d.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](12,0,null,null,5,"div",[["class","card-footer"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,2,"a",[["class","btn-floating"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.loveAuthor()&&e),e},null,null)),(l()(),e["\u0275eld"](14,0,null,null,0,"i",[["class","fa fa-lg fa-heart"]],[[2,"pink-color",null]],null,null,null,null)),(l()(),e["\u0275ted"](15,null,[" "," "])),(l()(),e["\u0275eld"](16,0,null,null,1,"a",[["class","btn-floating float-right"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.openInfoModal()&&e),e},null,null)),(l()(),e["\u0275eld"](17,0,null,null,0,"i",[["class","fa fa-lg fa-info-circle"]],null,null,null,null,null))],function(l,n){var t=n.component;l(n,4,0,"card-header white-text "+t.headerClasss),l(n,8,0,l(n,9,0,"/authors",t.author._id)),l(n,11,0,!t.photoHover)},function(l,n){var t=n.component;l(n,7,0,t.getSanitizedImageUrl()),l(n,14,0,t.isLoved),l(n,15,0,t.numOfLoves>0?t.numOfLoves:null)})}var O=t("nSOF"),M=t("biqx"),x=t("Fv9x"),P=t("kH4O"),k=t("9zbn"),I=t("NhFE"),A=t("AytR"),N=t("L7aT"),R=function(){function l(l,n){this.route=l,this.authorService=n,this.bannerImageUrl=A.a.bannerImageUrls.authorsPage,this.modalTitle="Sort Authors",this.modalSortOptions=[{name:"Alphabetical",iconClassName:"fa fa-sort-alpha-asc",sortMode:{sortBy:"fullName",isSortAscending:!0}},{name:"Latest",iconClassName:"fa fa-clock-o",sortMode:{sortBy:"createdAt",isSortAscending:!1}},{name:"Most Love",iconClassName:"fa fa-heart",sortMode:{sortBy:"loveCount",isSortAscending:!1}}],this.authors=[],this.sortMode={sortBy:"createdAt",isSortAscending:!1}}return l.prototype.ngOnInit=function(){var l=this;this.route.data.subscribe(function(n){l.authors=n.authors.items,l.pagination=n.authors.pagination})},l.prototype.getAuthors=function(){var l=this;this.authorService.getAuthors(this.pagination,this.sortMode).subscribe(function(n){l.authors=n.items,l.pagination=n.pagination})},l.prototype.onPageChanged=function(l){this.pagination.pageNumber=l,this.getAuthors()},l.prototype.onSortChanged=function(l){this.sortMode=l,this.getAuthors()},l.prototype.getColorClass=function(l){return N.a.getColorClass(l)},l}(),w=e["\u0275crt"]({encapsulation:0,styles:[[".authors-container[_ngcontent-%COMP%]{padding:30px 30px 10px}.banner-text[_ngcontent-%COMP%]{font-size:50px}"]],data:{}});function L(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","col-xl-3 col-lg-4 col-md-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"app-author-card",[],null,null,null,y,C)),e["\u0275did"](2,245760,null,0,v,[b.c,e.NgModuleRef,p.a,m.a,f.a,h.a],{headerClasss:[0,"headerClasss"],author:[1,"author"]},null)],function(l,n){l(n,2,0,n.component.getColorClass(n.context.index),n.context.$implicit)},null)}function q(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,4,"app-banner",[],null,null,null,O.b,O.a)),e["\u0275did"](1,114688,null,0,M.a,[b.c],{imageUrl:[0,"imageUrl"]},null),(l()(),e["\u0275eld"](2,0,null,0,2,"div",[["class","d-flex justify-content-center align-items-center"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,1,"h1",[["class","banner-text text-center"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Authors"])),(l()(),e["\u0275eld"](5,0,null,null,10,"div",[["class","authors-container container-fluid"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,1,"app-sort-bar",[],null,[[null,"sortChanged"]],function(l,n,t){var e=!0;return"sortChanged"===n&&(e=!1!==l.component.onSortChanged(t)&&e),e},x.b,x.a)),e["\u0275did"](7,114688,null,0,P.a,[p.a],{modalTitle:[0,"modalTitle"],modalSortOptions:[1,"modalSortOptions"]},{sortChanged:"sortChanged"}),(l()(),e["\u0275eld"](8,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(l()(),e["\u0275eld"](9,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,L)),e["\u0275did"](11,278528,null,0,d.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275eld"](12,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,2,"div",[["class","d-flex flex-column justify-content-center align-items-center mt-4"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,null,1,"app-pagination",[],null,[[null,"pageChanged"]],function(l,n,t){var e=!0;return"pageChanged"===n&&(e=!1!==l.component.onPageChanged(t)&&e),e},k.b,k.a)),e["\u0275did"](15,638976,null,0,I.a,[],{totalItems:[0,"totalItems"],itemsPerPage:[1,"itemsPerPage"]},{pageChanged:"pageChanged"})],function(l,n){var t=n.component;l(n,1,0,t.bannerImageUrl),l(n,7,0,t.modalTitle,t.modalSortOptions),l(n,11,0,t.authors),l(n,15,0,t.pagination.totalItems,t.pagination.pageSize)},null)}var F=e["\u0275ccf"]("app-authors",R,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-authors",[],null,null,null,q,w)),e["\u0275did"](1,114688,null,0,R,[c.a,f.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),U=t("63mm"),_=t("HBl4"),z=t("CeUF"),T=function(){function l(l,n){this.route=l,this.quoteService=n,this.modalTitle="Sort Quotes",this.modalSortOptions=[{name:"Alphabetical",iconClassName:"fa fa-sort-alpha-asc",sortMode:{sortBy:"text",isSortAscending:!0}},{name:"Latest",iconClassName:"fa fa-clock-o",sortMode:{sortBy:"createdAt",isSortAscending:!1}},{name:"Most Love",iconClassName:"fa fa-heart",sortMode:{sortBy:"loveCount",isSortAscending:!1}}],this.quotes=[],this.sortMode={sortBy:"createdAt",isSortAscending:!0}}return l.prototype.ngOnInit=function(){var l=this;this.route.data.subscribe(function(n){l.author=n.author,l.quotes=n.quotes.items,l.pagination=n.quotes.pagination})},l.prototype.getQuotes=function(){var l=this;this.quoteService.getQuotes(this.pagination,this.sortMode,{author:this.author._id}).subscribe(function(n){l.quotes=n.items,l.pagination=n.pagination})},l.prototype.onPageChanged=function(l){this.pagination.pageNumber=l,this.getQuotes()},l.prototype.onSortChanged=function(l){this.sortMode=l,this.getQuotes()},l.prototype.getColorClass=function(l){return N.a.getColorClass(l)},l}(),j=e["\u0275crt"]({encapsulation:0,styles:[[".quotes-container[_ngcontent-%COMP%]{padding:30px 30px 10px}.banner-text[_ngcontent-%COMP%]{font-size:50px}"]],data:{}});function B(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","col-xl-3 col-lg-4 col-md-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"app-quote-card",[],null,null,null,U.b,U.a)),e["\u0275did"](2,245760,null,0,_.a,[m.a,z.a,h.a],{headerClasss:[0,"headerClasss"],quote:[1,"quote"]},null)],function(l,n){l(n,2,0,n.component.getColorClass(n.context.index),n.context.$implicit)},null)}function V(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,4,"app-banner",[],null,null,null,O.b,O.a)),e["\u0275did"](1,114688,null,0,M.a,[b.c],{imageUrl:[0,"imageUrl"]},null),(l()(),e["\u0275eld"](2,0,null,0,2,"div",[["class","d-flex justify-content-center align-items-center"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,1,"h1",[["class","banner-text text-center"]],null,null,null,null,null)),(l()(),e["\u0275ted"](4,null,["",""])),(l()(),e["\u0275eld"](5,0,null,null,10,"div",[["class","quotes-container container-fluid"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,1,"app-sort-bar",[],null,[[null,"sortChanged"]],function(l,n,t){var e=!0;return"sortChanged"===n&&(e=!1!==l.component.onSortChanged(t)&&e),e},x.b,x.a)),e["\u0275did"](7,114688,null,0,P.a,[p.a],{modalTitle:[0,"modalTitle"],modalSortOptions:[1,"modalSortOptions"]},{sortChanged:"sortChanged"}),(l()(),e["\u0275eld"](8,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(l()(),e["\u0275eld"](9,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,B)),e["\u0275did"](11,278528,null,0,d.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275eld"](12,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,2,"div",[["class","d-flex flex-column justify-content-center align-items-center mt-4"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,null,1,"app-pagination",[],null,[[null,"pageChanged"]],function(l,n,t){var e=!0;return"pageChanged"===n&&(e=!1!==l.component.onPageChanged(t)&&e),e},k.b,k.a)),e["\u0275did"](15,638976,null,0,I.a,[],{totalItems:[0,"totalItems"],itemsPerPage:[1,"itemsPerPage"]},{pageChanged:"pageChanged"})],function(l,n){var t=n.component;l(n,1,0,t.author.photoUrl),l(n,7,0,t.modalTitle,t.modalSortOptions),l(n,11,0,t.quotes),l(n,15,0,t.pagination.totalItems,t.pagination.pageSize)},function(l,n){l(n,4,0,n.component.author.fullName)})}var Y=e["\u0275ccf"]("app-author-detail",T,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-author-detail",[],null,null,null,V,j)),e["\u0275did"](1,114688,null,0,T,[c.a,z.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),Q=e["\u0275crt"]({encapsulation:0,styles:[[".author-info-modal[_ngcontent-%COMP%]{width:70vw;max-width:500px;min-height:100px}"]],data:{}});function H(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","author-info-modal container"]],null,null,null,null,null)),(l()(),e["\u0275ted"](1,null,[" ","\n"]))],null,function(l,n){l(n,1,0,n.component.author.description)})}var D=e["\u0275ccf"]("app-author-info-modal",g,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-author-info-modal",[],null,null,null,H,Q)),e["\u0275did"](1,114688,null,0,g,[],null,null)],function(l,n){l(n,1,0)},null)},{author:"author"},{},[]),J=t("gIcY"),E=t("3zx5"),Z=t("4obl"),K=t("F/XL"),X=t("9Z1F"),$=function(){function l(l,n){this.authorService=l,this.alertService=n,this.defaultPagination={pageNumber:1,pageSize:8}}return l.prototype.resolve=function(l){var n=this;return this.authorService.getAuthors(this.defaultPagination).pipe(Object(X.a)(function(l){return n.alertService.error("Problem retrieving data"),Object(K.a)(null)}))},l}(),G=function(){function l(l,n,t){this.router=l,this.authorService=n,this.alertService=t}return l.prototype.resolve=function(l){var n=this,t=l.paramMap.get("id");return this.authorService.getAuthor(t).pipe(Object(X.a)(function(l){return n.alertService.error("Problem retrieving data"),n.router.navigate(["/authors"]),Object(K.a)(null)}))},l}(),W=function(){function l(l,n){this.quoteService=l,this.alertService=n,this.defaultPagination={pageNumber:1,pageSize:8},this.defaultSortMode={sortBy:"createdAt",isSortAscending:!0}}return l.prototype.resolve=function(l){var n=this,t=l.paramMap.get("id");return this.quoteService.getQuotes(this.defaultPagination,this.defaultSortMode,{author:t}).pipe(Object(X.a)(function(l){return n.alertService.error("Problem retrieving data"),Object(K.a)(null)}))},l}(),ll=t("QpxQ"),nl=t("S6T7"),tl=t("6bkY"),el=t("eF4m"),ol=t("PCNd"),ul=function(){};t.d(n,"AuthorsModuleNgFactory",function(){return al});var al=e["\u0275cmf"](o,[],function(l){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,a.a,i.a,i.c,i.d,i.n,i.e,i.b,r.a,s.a,F,Y,D]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,d.NgLocalization,d.NgLocaleLocalization,[e.LOCALE_ID,[2,d["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](4608,J.r,J.r,[]),e["\u0275mpd"](4608,J.d,J.d,[]),e["\u0275mpd"](4608,E.bb,E.bb,[]),e["\u0275mpd"](4608,E.k,E.k,[]),e["\u0275mpd"](4608,E.J,E.J,[]),e["\u0275mpd"](4608,E.gb,E.gb,[]),e["\u0275mpd"](4608,E.fb,E.fb,[e.ComponentFactoryResolver,e.NgZone,e.Injector,E.gb,e.ApplicationRef]),e["\u0275mpd"](4608,E.f,E.f,[]),e["\u0275mpd"](4608,E.w,E.w,[E.fb,e.ElementRef,e.ViewContainerRef,e.Renderer2]),e["\u0275mpd"](4608,E.T,E.T,[]),e["\u0275mpd"](4608,E.P,E.P,[]),e["\u0275mpd"](4608,Z.a,Z.a,[]),e["\u0275mpd"](4608,$,$,[f.a,h.a]),e["\u0275mpd"](4608,G,G,[c.k,f.a,h.a]),e["\u0275mpd"](4608,W,W,[z.a,h.a]),e["\u0275mpd"](1073742336,d.CommonModule,d.CommonModule,[]),e["\u0275mpd"](1073742336,J.p,J.p,[]),e["\u0275mpd"](1073742336,J.g,J.g,[]),e["\u0275mpd"](1073742336,J.n,J.n,[]),e["\u0275mpd"](1073742336,c.o,c.o,[[2,c.u],[2,c.k]]),e["\u0275mpd"](1073742336,ll.c,ll.c,[]),e["\u0275mpd"](1073742336,nl.FileUploadModule,nl.FileUploadModule,[]),e["\u0275mpd"](1073742336,tl.a,tl.a,[]),e["\u0275mpd"](1073742336,E.h,E.h,[]),e["\u0275mpd"](1073742336,E.S,E.S,[]),e["\u0275mpd"](1073742336,E.X,E.X,[]),e["\u0275mpd"](1073742336,E.t,E.t,[]),e["\u0275mpd"](1073742336,E.O,E.O,[]),e["\u0275mpd"](1073742336,E.r,E.r,[]),e["\u0275mpd"](1073742336,E.l,E.l,[]),e["\u0275mpd"](1073742336,E.m,E.m,[]),e["\u0275mpd"](1073742336,E.q,E.q,[]),e["\u0275mpd"](1073742336,E.M,E.M,[]),e["\u0275mpd"](1073742336,E.V,E.V,[]),e["\u0275mpd"](1073742336,E.R,E.R,[]),e["\u0275mpd"](1073742336,E.s,E.s,[]),e["\u0275mpd"](1073742336,E.i,E.i,[]),e["\u0275mpd"](1073742336,E.o,E.o,[]),e["\u0275mpd"](1073742336,E.Y,E.Y,[]),e["\u0275mpd"](1073742336,E.a,E.a,[]),e["\u0275mpd"](1073742336,E.x,E.x,[]),e["\u0275mpd"](1073742336,el.a,el.a,[]),e["\u0275mpd"](1073742336,ol.a,ol.a,[]),e["\u0275mpd"](1073742336,ul,ul,[]),e["\u0275mpd"](1073742336,o,o,[]),e["\u0275mpd"](256,ll.d,ll.e,[]),e["\u0275mpd"](256,E.b,{autoClose:!0},[]),e["\u0275mpd"](1024,c.i,function(){return[[{path:"",component:R,resolve:{authors:$}},{path:":id",component:T,resolve:{author:G,quotes:W}}]]},[])])})}}]);